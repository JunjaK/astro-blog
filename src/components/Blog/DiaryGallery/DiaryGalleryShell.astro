---
// Static shell that provides a CSS-only loading placeholder before React hydrates.
// Once the Three.js Canvas mounts, :has(canvas) hides the placeholder seamlessly.
---

<div class="diary-gallery-shell">
  <div class="diary-gallery-preload">
    <div class="diary-gallery-spinner" />
  </div>
  <slot />
</div>

<style>
  .diary-gallery-shell {
    position: relative;
    min-height: 100vh;
    background: #0a0a0a;
  }

  .diary-gallery-preload {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 40;
    background: #0a0a0a;
  }

  .diary-gallery-spinner {
    width: 2rem;
    height: 2rem;
    border: 2px solid rgba(255, 255, 255, 0.2);
    border-top-color: white;
    border-radius: 50%;
    animation: diary-spin 0.8s linear infinite;
  }

  @keyframes diary-spin {
    to { transform: rotate(360deg); }
  }

  /* Hide placeholder once Three.js Canvas is rendered (React hydrated) */
  .diary-gallery-shell:has(canvas) .diary-gallery-preload {
    display: none;
  }
</style>
