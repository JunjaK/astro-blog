<!-- aos -->
<script>
import AOS from '@reimujs/aos';

function aosInit() {
  AOS.init({
    duration: 1000,
    easing: 'ease',
    once: true,
    offset: 50,
  });
}
aosInit();
document.addEventListener('astro:after-swap', aosInit);
</script>
<!-- lozad -->
<script>
import lozad from 'lozad';

function lozadInit() {
  const observer = lozad('.lazyload', {
    loaded: (el) => {
      el.classList.add('lazyloaded');
    },
  });
  observer.observe();
}
lozadInit();
document.addEventListener('astro:after-swap', lozadInit);
</script>
<!-- SPA navigation: reveal home #intro immediately (skip 4s terminal delay) -->
<script>
document.addEventListener('astro:after-swap', () => {
  const intro = document.getElementById('intro');
  if (intro) intro.classList.add('visible');

  const scrollAnim = document.querySelector('.scroll-animation');
  const container = document.querySelector('.container');
  if (scrollAnim && container && window.innerHeight < (container as HTMLElement).offsetHeight + 224) {
    scrollAnim.classList.remove('hidden');
  }
});
</script>
